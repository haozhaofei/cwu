<!doctype html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>plane</title>
</head>
<body>
	<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8"/>
        <title>JavaScript--实例</title>
        <style>
            *{margin:0px;
            	padding:0px;
            }
            #did{
                width:500px;height:500px;
                background:url('images/bg2.png') no-repeat 0px -1036px;
                border:1px solid blue;
                position:relative;
                overflow:hidden;
            }
		 #fid{width:50px;
			height: 50px;
			position: absolute;
			top:250px;
			left:150px;
		}  
		#pd0,#pd1,#pd2,#pd3,#pd4,#pd5{width:50px;height:50px;display: none;position: absolute;} 
        </style>
    </head>
    <body>
        <div id="did"> 
		       <img src="images/p.png" id="pd0" alt="">
		       <img src="images/p.png" id="pd1" alt="">
		       <img src="images/p.png" id="pd2" alt="">
		       <img src="images/p.png" id="pd3" alt="">
		       <img src="images/p.png" id="pd4" alt="">
		       <img src="images/p.png" id="pd5" alt="">
		       <div id="fid">
		           <img src="images/p.png" width="80" height="80">
		       </div>
        </div>
        <script type="text/javascript">
           var fid = document.getElementById('fid');
	       window.onkeydown = function(ent){
		       var event = window.event || ent;
		       switch(event.keyCode){
			       case 37 :  //左
				    fid.style.left = Math.max(0,fid.offsetLeft - 5)+"px";
			        break;
			       case 38 : //上
				    fid.style.top = Math.max(0,fid.offsetTop - 5)+"px";
			        break;
			       case 39 : //右
				    fid.style.left = Math.min(320,fid.offsetLeft + 5)+"px";
			        break;
			       case 40 : //下
				    fid.style.top = Math.min(320,fid.offsetTop + 5)+"px";
			        break;
			       case 32 :
				    fire(fid.offsetLeft+50,fid.offsetTop);
			        break;
		}
	}
	//炮弹发射
	function fire(x,y){
		for(var i=0;i<6;i++){
			var pd = document.getElementById('pd'+i);
			if(pd.style.display != "block"){
				pd.style.top = y+"px";
				pd.style.left = x+"px";
				pd.style.display = "block";
				return;
			}
		}
	}

	//游戏的主程序
	var did = document.getElementById("did");
    var bgh=-1036;
	function running(){
		//负责移动地图背景
        bgh+=2;
        if(bgh>=-268){
                bgh=-1036;
            }
        did.style.backgroundPosition="0px "+bgh+"px"; 
		for(var i=0;i<6;i++){
			var pd = document.getElementById('pd'+i);
			if(pd.style.display == "block"){
				pd.style.top = pd.offsetTop +25 +"px";
				if(pd.offsetTop>520){
					pd.style.display = "none";    //回收炮弹
				}
			}
		}
		setTimeout("running()",33);
	}
	running();
        </script>
    </body>
</html>
</body>
</html>